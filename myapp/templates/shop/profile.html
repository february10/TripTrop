{% extends 'shop/basic.html' %}
{% load static %}
{% block title %}
Profile | TripTrop
{% endblock %}


{% block css %}
.about-section {
    background-color: #ffffff;
    padding: 30px 20px;
    border-radius: 15px;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
    margin-top: 60px;
  }

  .about-title {
    color: #343a40;
  }

  .about-text {
    font-size: 1.1rem;
    color: #555;
    line-height: 1.8;
  }

  .about-img {
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    width: 100%;
    height: auto;
  }

  @media (max-width: 768px) {
    .about-section {
      padding: 40px 15px;
    }
  }

{% endblock %}


{% block body %}
<div style="margin-top:120px; margin-bottom:150px;">
    <div>
        <section class="about-section container">
                <section class="about-section container" style="margin-bottom:30px; margin-top:0px; background-color:#e8daef; height:200px;">

                    <div class="row align-items-center">

                        <!-- Image Content -->
                        <div class="col-md-6" style="padding-left:100px;" >
                            <div style="display:flex; gap:70px;" >
                            {% if user.userprofile.profile_picture %}
                            <img src="{{ user.userprofile.profile_picture }}" alt="Profile" width="40" height="40" class="rounded-circle">
                            {% else %}
                            <img src="{% static 'default_profile.jpeg' %}" alt="Default Profile" width="100" height="100" class="rounded-circle">
                            {% endif %}
                            <div>
                            <h2 class="about-title mb-2" style="font-size:40px;">{{ user.username }}</h2>
                            <p class="about-title mb-4" style="font-size:15px;">{{ user.userprofile.name }}<br>{{ user.userprofile.phone }}<br>{{ user.userprofile.email }}</p>
                            </div>
                            </div>
                        </div>
                        <!--Text Content-->
                        <div class="col-md-6 mb-2 mb-md-0 " style="margin-top:100px;">

                            <a class="btn btn-outline-danger" href="{% url 'logout' %}">Logout</a>
                        </div>
                    </div>
                    </section>


            <div class="row align-items-center">


  <div> <hr style="margin: 20px 0px 20px 20px;"></div>


                <!-- Text Content -->
<h3 class="mt-5 text-center text-success">Your Bookings</h3>
<hr>
{% if my_bookings %}
  <div class="row">
    {% for booking in my_bookings %}
      <div class="col-md-12 mb-4">
        <div class="card shadow-sm border-0 p-3 d-flex flex-row align-items-center justify-content-between">
          <div class="d-flex align-items-center">
            <div class="me-4">
              <img src="{% static 'images/trip.png' %}" alt="Trip" style="width: 60px; height: 60px;">
            </div>
            <div>
              <h5 class="mb-1 text-primary">{{ booking.destination }}</h5>
              <p class="mb-0">
                <strong>Check-in:</strong> {{ booking.checkin }} |
                <strong>Check-out:</strong> {{ booking.checkout }}<br>
                <strong>Guests:</strong> {{ booking.guests }}
              </p>
            </div>
          </div>
          {% if booking.notes %}
            <div class="text-muted" style="max-width: 300px;">
              <small><strong>Notes:</strong> {{ booking.notes }}</small>
            </div>
          {% endif %}
        </div>
      </div>
    {% endfor %}
  </div>
{% else %}
  <p class="text-center">You have not made any bookings yet.</p>
{% endif %}

            </div>
        </section>
    </div>
</div>
{% endblock %}


{% block js %}

{% endblock %}

